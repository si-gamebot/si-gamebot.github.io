import PFRNG from"../pfrng.js";const Util={t(e,t){const s=10**t;return Math.round(e*s)/s},i(e,t){const s=10**t;return Math.floor(e*s)/s},o:e=>/^!\w+/.test(e),h(e){let t=e.split(" ");return{name:t.shift().toLowerCase(),g:t}},l(e,t){const s=e.indexOf(t);-1!==s&&e.splice(s,1)},m(e,t){const s=this.u(e,t);-1!==s&&e.splice(s,1)},p(e,t){const s=t.toLowerCase();for(const t of e)if(s===t.toLowerCase())return!0;return!1},M:(e,t)=>e.toLowerCase()===t.toLowerCase(),u(e,t){const s=t.toLowerCase();for(let t=0;t<e.length;t++)if(e[t].toLowerCase()===s)return t;return-1},_(e,t){console.log("arr_str_value_i:"),console.log(e),console.log(t);return e[this.u(e,t)]},H:(e,t)=>e+Math.floor((t-e)*Math.random()+1),L(e){if("string"!=typeof e)throw new Error("Expected string, got "+typeof e);if(e.length>16)return null;e=e.toUpperCase();return/^\d+(\.\d+)?[KMBT]?$/.test(e)?(/[KMBT]$/.test(e)&&(e=(e=(e=(e=e.replace("K","e+3")).replace("M","e+6")).replace("B","e+9")).replace("T","e+12")),parseFloat(e)):null},D(e){if("number"!=typeof e)throw new Error("Expected number, got "+typeof e);if(e<1e3)return String(e);const t=e.toExponential(),[s,i]=t.split("e").map(Number);if(void 0===s||void 0===i)throw"compiler ritual etc";let o,n;i<15?(o=Math.floor(i/3),n=i%3):(o=4,n=i-12),console.log(o);return`${this.i(s*Math.pow(10,n),2)}${["","K","M","B","T"][o]}`},$(e){function t(){return e+" is not a number with a unit. Expected e.g. 1.23K"}if(/^\d*\.?\d*[A-z]$/.test(e)){const s=e.substring(0,e.length-1),i=Number(s);if(Number.isNaN(i))throw t();return[i,e[e.length-1]]}throw t()}};class Game{channel;constructor(e){this.channel=e}W(e){return"function"==typeof this[e]}say(e,t){"boolean"==typeof t&&!0===t?this.channel.say(e):this.channel.say(this.S+e)}sayTo(e,t,s){this.say(`${e}: ${t}`,s)}notice(e,t){"boolean"==typeof t&&!0===t?this.channel.notice(e):this.channel.notice(this.S+e)}noticeTo(e,t,s){"boolean"==typeof s&&!0===s?this.channel.noticeTo(e,t):this.channel.noticeTo(e,this.S+t)}}class MIGame extends Game{static R;static k;G;constructor(e,t){super(e),this.G=t}C(){console.log("MIGame.cleanup() called"),this.channel.endMIGame(this.G,this.R)}static factory(e,t,s,i){throw"Your game must override this method!"}static T(e){throw"Your game must override this method!"}static v(e,t,s){s.N[e]=t,s.P[e]=this.R}static F(e,t,s){s.B[e]=t,s.P[e]=this.R}}const echo=e=>e,c={red:echo,green:echo,A:echo,bold:echo,U:echo};c.bold.I={O:echo,K:echo};class DMPlayer{Y;j=null;q=!1;Z=1500;J=1500;V=100;X=0;ee=0;te=!1;se(e){if(this.J==this.Z)return 0;const t=this.J;this.J+=e,this.J>this.Z&&(this.J=this.Z);return this.J-t}constructor(e){this.Y=e}}export default class DeathMatch extends MIGame{R="dm";static R="dm";static k="!dm";name="Death Match";S=c.bold("[ 🔪 Death Match 🧝 ] ");session;constructor(e,t){super(e,t),this.session=null}ie(){if(null==this.session)throw"You are doing it wrong";this.session.weapons={"!surge":new DMW_Surge(this),"!whip":new DMW_Whip(this),"!onyx":new DMW_Onyx(this),"!ice":new DMW_Ice(this),"!dh":new DMW_DH(this),"!punch":new DMW_Punch(this),"!storm":new DMW_Storm(this),"!dbolt":new DMW_DBolt(this),"!poly":new DMW_Poly(this),"!dds":new DMW_DDS(this),"!maul":new DMW_Maul(this),"!zgs":new DMW_ZGS(this),"!korasi":new DMW_Korasi(this),"!dbow":new DMW_DBow(this),"!dclaws":new DMW_DClaws(this),"!sgs":new DMW_SGS(this),"!ags":new DMW_AGS(this),"!blood":new DMW_Blood(this),"!guth":new DMW_Guth(this),"!smoke":new DMW_Smoke(this),"!msb":new DMW_MSB(this),"!etc":new DMW_Etc(this)};for(const e of Object.keys(this.session.weapons)){const t=this.session.weapons[e];this.session.oe[t.ne]=t}}replayWeapon(e){if(null==this.session)throw"Session is null";const t=this.session.oe[e];if(!(t instanceof DMWeapon))throw"weapon is not weapon :( replayChar:"+e+" | weaponMaybe: "+t;const s=t,i=this.session.re==this.session.ae?this.session.he:this.session.ae;s.ce(this.session.re,i)}replaySetSeeds(e,t){if(null==this.session)throw"session null";this.session.ae.j=e,this.session.he.j=t,this.session.status="PLAYING",this.de()}de(){if(null==this.session)throw"session null";this.session.re=this.ge(),this.say("Ready to begin the game!"),this.say(`${this.session.re.Y} gets the first hit!`),this.session.status="PLAYING"}le(e,t){this.me(e,"!surge")}ue(e,t){this.me(e,"!whip")}pe(e,t){this.me(e,"!onyx")}fe(e,t){this.me(e,"!ice")}Me(e,t){this.me(e,"!dh")}we(e,t){this.me(e,"!punch")}ye(e,t){this.me(e,"!storm")}_e(e,t){this.me(e,"!dbolt")}He(e,t){this.me(e,"!poly")}Le(e,t){this.me(e,"!dds")}De(e,t){this.me(e,"!maul")}be(e,t){this.me(e,"!zgs")}$e(e,t){this.me(e,"!korasi")}xe(e,t){this.me(e,"!dbow")}We(e,t){this.me(e,"!dclaws")}Se(e,t){this.me(e,"!sgs")}Re(e,t){this.me(e,"!ags")}Ee(e,t){this.me(e,"!blood")}ke(e,t){this.me(e,"!guth")}ze(e,t){this.me(e,"!smoke")}Ge(e,t){this.me(e,"!msb")}Ce(e,t){this.me(e,"!etc")}static T(e){this.v("!dmstop","cmd_stop",e),this.F("!cancel","cmd_cancel",e),this.F("!spec","cmd_spec",e),this.F("!weapons","cmd_weapons",e),this.F("!weapon","cmd_weapon",e),this.F("!dmseed","cmd_dmseed",e),this.F("!surge","cmd_surge",e),this.F("!whip","cmd_whip",e),this.F("!onyx","cmd_onyx",e),this.F("!ice","cmd_ice",e),this.F("!dh","cmd_dh",e),this.F("!punch","cmd_punch",e),this.F("!storm","cmd_storm",e),this.F("!dbolt","cmd_dbolt",e),this.F("!poly","cmd_poly",e),this.F("!dds","cmd_dds",e),this.F("!maul","cmd_maul",e),this.F("!zgs","cmd_zgs",e),this.F("!korasi","cmd_korasi",e),this.F("!dbow","cmd_dbow",e),this.F("!dclaws","cmd_dclaws",e),this.F("!sgs","cmd_sgs",e),this.F("!ags","cmd_ags",e),this.F("!blood","cmd_blood",e),this.F("!guth","cmd_guth",e),this.F("!smoke","cmd_smoke",e),this.F("!msb","cmd_msb",e),this.F("!etc","cmd_etc",e)}me(e,t){if(null==this.session)throw"You're doing it wrong";const s=this.session.ae,i=this.session.he,o=e=>this.say(`Game hasn't started yet. ${e}, please choose a random seed with !dmseed <seed>`);if("GET_CLIENT_SEEDS"==this.session.status){const e=null==s.j,t=null==this.session.he.j;if(e&&t)return o("Both players");if(e)return o(s.Y);if(t)return o(i.Y);throw this.say("Error: Unexpected condition. Session status is GET_CLIENT_SEEDS but all seeds have been set."),"Expected unset seeds but all seeds set"}if(e===s.Y)var n=s,r=i;else{if(e!==i.Y)throw this.say("Error: Unexpected condition. Received message from unknown player."),"ERROR: Got a message from someone ("+e+") that should not be able to message this game.";n=i,r=s}if(n!==this.session.re)return void this.sayTo(e,"Sorry, it's not your turn yet.");console.log("weapon cmd: "+t);const a=this.session.weapons[t];if(console.log("weapon lookup result: "+a),!(a instanceof DMWeapon))throw"Expected weapon, got "+a;const h=a;if(!h.enabled)return this.noticeTo(e,`Sorry, ${h.name} is not allowed in this match. Allowed weapons: ${this.Te()}`);const c=h.ve(n);if(!0===c)return this.Ne(n,r,h);{const t=c;this.noticeTo(e,t)}}Ne(e,t,s){s.ce(e,t)}Pe(e,t){return this.sayTo(e,"Sorry, !cancel isn't working yet.")}Fe(e,t){if(null==this.session)return this.sayTo(e,"ERROR: !spec called but DM session == null.");const s=this.session.ae,i=this.session.he;if(e===s.Y)var o=s;else{if(e!==i.Y)throw this.say("Error: Unexpected condition. Received message from unexpected nick: "+e),"ERROR: Got a message from someone ("+e+") that should not be able to message this game.";o=i}this.noticeTo(e,`You have ${c.green(o.V+"%")} special attack left for this game.`)}Be(e,t){if(null==this.session)return this.sayTo(e,"ERROR: !weapons called but DM session == null.");this.Ae(e)}Te(){let e="";for(const t of Object.keys(this.session.weapons)){const s=this.session.weapons[t];s.enabled&&(e+=s.Ue,e+=" ")}return e}Ie(){const e=["Can of Redbull","3 bullets","Water Staff","Maple Shortbow","Red Dragonhide","Dragon Boots"].sort(((e,t)=>.5-Math.random())),t=2+Math.round(3*Math.random());return e.slice(0,t).join(", ")}Ae(e){const t=this.Te(),s=t.split(" ")[0].slice(1);"string"==typeof e?(this.noticeTo(e,"Allowed Weapons for this match: "+t),this.noticeTo(e,"Use !weapon <cmd> to find out more. Example: !weapon "+s)):(this.say("Allowed Weapons for this match: "+t),this.say("Use !weapon <cmd> to find out more. Example: !weapon "+s))}Oe(e,t){if(null==this.session)return this.sayTo(e,"ERROR: !weapon called but DM session == null.");if(1!==t.length)return this.noticeTo(e,"Please type a weapon command name, e.g. !weapon onyx");let s=t[0].toLowerCase();return"!"!==s.charAt(0)&&(s="!"+s),s in this.session.weapons?this.session.weapons[s].Ke(e):this.noticeTo(e,"Sorry, I can't find this weapon.")}Ye(e,t){if(console.log(e,"cmd_dmseed",t),null==this.session)return this.sayTo(e,"ERROR: !dmseed called but DM session == null.");if("GET_CLIENT_SEEDS"!==this.session.status)return this.sayTo(e,"Seeds already set.");if(0==t.length)return this.sayTo(e,"Please type something random after !dmseed. Example: !dmseed ocean");let s="";return e===this.session.ae.Y?null==this.session.ae.j?(this.session.ae.j=t[0],s+="Thank you. "):s+=this.session.ae.Y+': Your seed was already set to "'+this.session.ae.j+'". ':e===this.session.he.Y&&(null==this.session.he.j?(this.session.he.j=t[0],s+="Thank you. "):s+=this.session.he.Y+': Your seed was already set to "'+this.session.he.j+'". '),null==this.session.ae.j?this.say(`${s}Now ${this.session.ae.Y}, please choose your seed.`):null==this.session.he.j?this.say(`${s}Now ${this.session.he.Y}, please choose your seed.`):void this.de()}je(){if(null==this.session)throw this.say("nextTurn() called but session is null"),"nextTurn() called but session == null";if("GET_CLIENT_SEEDS"==this.session.status)throw this.say("nextTurn() called but status is GET_CLIENT_SEEDS"),"nextTurn() called but session == null";this.qe(),this.session.turn++}qe(){if(null==this.session)throw this.say("toggleActivePlayer() called but session is null"),"newRotoggleActivePlayerund() called but session == null";if(null==this.session.re)throw this.say("toggleActivePlayer() called but session.activePlayer is null"),"toggleActivePlayer() called but session.activePlayer == null";if("GET_CLIENT_SEEDS"==this.session.status)throw this.say("toggleActivePlayer() called but status is GET_CLIENT_SEEDS"),"toggleActivePlayer() called but session == null";if(this.session.re==this.session.ae)this.session.re=this.session.he;else{if(this.session.re!=this.session.he)throw this.say("Critical error in toggleActivePlayer"),"activePlayer is neither player1 nor player2";this.session.re=this.session.ae}}static factory(e,t,s,i){const o=new DeathMatch(e,t);if(null!==o.session)return o.say("ERROR: A game is already in progress."),null;if(i.length<4)return o.sayTo(s,"Command format: !dm <user1> <user2> <amount> <currency> - Example: !dm john steve 50m 07"),null;const[n,r,a,h]=i,c=o.channel.findNick(n);if(null===c)return o.say(`${s}: Error: Can't find user ${n} in this channel.`),null;const d=o.channel.findNick(r);if(null===d)return o.say(`${s}: Error: Can't find user ${r} in this channel.`),null;const g=new DMPlayer(c),l=new DMPlayer(d);if(g.Y===l.Y)return console.warn("Nicks equal!"),o.sayTo(s,"Error: Both players' nicknames are identical!"),null;const m=Util.L(a);if(null==m)return o.say("Error: Sorry, I don't understand that bet amount. Examples: 500, 1K, 2M, 50B, etc."),null;if(o.session={ae:g,he:l,Ze:m,Je:h,status:"GET_CLIENT_SEEDS",turn:0,re:null,RNG:new PFRNG(null),weapons:{},Qe:"",oe:{}},o.ie(),i.length>4){let e=0,t=0;const n=[],r=i.slice(4);for(const i of r){const r=i[0],a="!"+i.slice(1),h=o.session.weapons[a];if(!(h instanceof DMWeapon))return o.sayTo(s,"Error: Unknown weapon: "+i),null;if("+"===r)e++,h.enabled=!0,n.push(h);else{if("-"!==r)return o.sayTo(s,"Error: Unknown command: "+a),null;t++,h.enabled=!1}}if(e>0&&t>0)return o.sayTo(s,"Error: Can't use both + and -"),null;if(n.length>0)for(const e of Object.keys(o.session.weapons)){const t=o.session.weapons[e];n.includes(t)||(t.enabled=!1)}}return o.session.turn=1,o.say(`${g.Y} vs ${l.Y} - 2 Users bet ${Util.D(m)} each on ${h} - Server Seed (Hashed): ${o.session.RNG.Ve}`),o.Ae(),o.say("For fair randomness, both players please type !dmseed <seed>, where <seed> is a random number or word."),o}ge(){if(null===this.session)throw"RNG_getStartingPlayer() called before game start";if(null===this.session.RNG)throw"RNG_getStartingPlayer() called before RNG init";const e=this.session.ae.j,t=this.session.he.j;if(null==e)throw"clientSeed1 is null!";if(null==t)throw"clientSeed2 is null!";const s=`${e}:${t}`,i=this.session.RNG.getHMAC(s,this.session.RNG.serverSeed),o=this.session.RNG.hashToInt(i,0,1);return[this.session.ae,this.session.he][o]}Xe(e,t){if(null===this.session)throw"get1to10() called before game start";if(null===this.session.RNG)throw"get1to10() called before RNG init";const s=this.session.turn,i=`${t}:${e.Y}:${s}:${e.j}`,o=this.session.RNG.getHMAC(i,this.session.RNG.serverSeed);return this.session.RNG.hashToInt(o,1,10)}et(e,t){if(null===this.session)throw"RNG_getHRBucket() called before game start";if(null===this.session.RNG)throw"RNG_getHRBucket() called before RNG init";const s=this.session.turn,i=`chance:${e.Y}:${s}:${t}:${e.j}`,o=this.session.RNG.getHMAC(i,this.session.RNG.serverSeed);return this.session.RNG.hashToInt(o,1,100)}tt(e,t,s,i){if(null===this.session)throw"RNG_getHRBucket() called before game start";if(null===this.session.RNG)throw"RNG_getHRBucket() called before RNG init";const o=this.session.turn,n=`dmg:${e.Y}:${o}:${i}:${e.j}`,r=this.session.RNG.getHMAC(n,this.session.RNG.serverSeed);return this.session.RNG.hashToInt(r,t,s)}st(e,t){if(null===this.session)throw"Error: winGame() called but session is null.";this.say(`${t.Y} Has died!`);const s=Util.D(this.session.Ze),i=Util.D(2*this.session.Ze);this.say(`${e.Y} ${c.red("WINS")} the ${c.green(i)} 💰 pot on ${c.A(this.session.Je)} ❗️`);const o="https://si-gamebot.github.io/verify/dm/?"+function(e){let t="";for(let s of Object.keys(e))t+=`&${s}=${e[s]}`;return t.substring(1)}({it:this.session.RNG.serverSeed,ot:this.session.ae.Y,nt:this.session.he.Y,rt:this.session.Je,ht:s,ct:this.session.ae.j,dt:this.session.he.j,Qe:this.session.Qe});this.say("Provably fair: "+o),this.C()}}class DMWeapon{gt;enabled=!0;freeze=!1;lt=0;ut=0;ve(e){const t=this.ft(e);if(!0!==t)return t;const s=this.Mt(e);return!0===s||s}ft(e){return!!this.wt||(!e.q||"You cannot use a melee weapon while you are frozen!")}Mt(e){const t=`You do NOT have enough special attack left! (${c.green(e.V)} left, ${c.green(this.V)} needed)`;return!(e.V<this.V)||t}yt(){let e="!dh"==this.Ue?"HP":"CHANCE",t="";for(const s of this._t){const i=`${s.Ht}-${s.Lt} `+e,o=`${s.Dt}-${s.bt} DMG`;t+=`${c.red(i)} = ${c.green(o)}`,t+=" || "}return t.substring(0,t.length-4)}Ke(e){this.gt.noticeTo(e,`Description: ${this.description}`),this.gt.noticeTo(e,`Hit Rates: ${this.yt()}`),this.gt.noticeTo(e,`Hit Times: ${c.green(this.$t)}`),this.gt.noticeTo(e,`Required Spec: ${c.green(this.V)}`),this.gt.noticeTo(e,`Minimum Damage: ${c.green(this.xt)}`),this.gt.noticeTo(e,`Maximum Damage: ${c.green(this.Wt)}`)}ce(e,t){if(null==this.gt.session)throw"wtf";this.gt.session.Qe+=this.ne;const s=e=>{const t=" ",s=15;const i=e.J,o=e.Z;if(i<0||i>o)throw this.gt.say("Critical error: Unexpected health value: "+i),"Unexpected health value: "+i;const n=Math.round(i/o*s),r=function(e){let i=String(e);for(;i.length<s;)i=t+i+t;return i.length>s&&(i=i.substring(1,i.length)),i}(i);let a="";for(let e=0;e<s;e++)a+=e<n?c.bold.I.O(r[e]):c.bold.I.K(r[e]);return a};let i=!1;if("!smoke"==this.Ue&&this.gt.Xe(e,"poison")<=7&&(t.X=6,t.ee=40,i=!0),t.X>0){t.J-=t.ee,t.J<0&&(t.J=0);const s=i?"Start":"Still";if(this.gt.say(`${t.Y} ${s} suffers ${c.red(t.ee)} ☠ damage from poison!`),0==t.J)return this.gt.st(e,t);t.ee-=2,t.X--}let o=0,n=[];for(let t=1;t<=this.$t;t++){let s=null;if("!dh"==this.Ue)for(const t of this._t)e.J>=t.Ht&&e.J<=t.Lt&&(s=t);else{const i=this.gt.et(e,t);for(const e of this._t)i>=e.Ht&&i<=e.Lt&&(s=e)}if(null==s)throw this.gt.say("Critical Error: Could not find hit rate."),"Could not find hit rate";const i=this.gt.tt(e,s.Dt,s.bt,t);o+=i,n.push(i)}let r="";if(this.lt>0&&(10==this.lt||this.gt.Xe(e,"heal")<=this.lt)){const t=Math.round(o*this.ut),s=e.se(t);r+=`, healing ${c.A(s)}`}if(e.V-=this.V,e.V<0)throw this.gt.say("Critical Error: Player spec is below zero!"),"player Spec < 0 !";t.J-=o,t.J<0&&(t.J=0);let a="";this.freeze&&("!ice"==this.Ue?e.te||(t.q=!0,a=c.U("freezing them, "),e.te=!0):(t.q=!0,a=c.U("freezing them, "))),e.q=!1,this.gt.je();let h=null;h=1==this.$t?String(o):`${n.join(" + ")} (${o})`;const d=this.gt.session.ae,g=this.gt.session.he,l=`${e.Y} ${this.St} ${t.Y} ${this.Rt} ${this.name} ${a}dealing ${c.red(h)} damage${r}.`,m=`${d.Y}: ${s(d)} - ${g.Y}: ${s(g)}`;if(this.gt.say(l),this.gt.say(m),0==t.J)return this.gt.st(e,t);{const e=`${t.Y} gets the next hit!`;this.gt.say(e)}}constructor(e){this.gt=e}}class DMW_Surge extends DMWeapon{ne="r";Ue="!surge";name="Surge of Fire 🔥";St="casts at";Rt="a";description=`Surge of Fire 🔥 can only be used if your hp is ${c.green(250)} or less, can also be used if you are frozen!`;_t=[{Ht:1,Lt:40,Dt:200,bt:350},{Ht:41,Lt:65,Dt:351,bt:440},{Ht:66,Lt:100,Dt:441,bt:550}];$t=1;V=0;xt=200;Wt=500;wt=!0;ve(e){return e.J>250?`Surge of Fire 🔥 can only be used when your HP is ${c.green(250)} or lower!`:super.ve(e)}}class DMW_Whip extends DMWeapon{ne="w";Ue="!whip";name="Abyssal Whip 📿";St="whips";Rt="with an";description="Abyssal Whip 📿 cannot be used if you are frozen!";_t=[{Ht:1,Lt:30,Dt:1,bt:145},{Ht:31,Lt:60,Dt:146,bt:265},{Ht:61,Lt:100,Dt:266,bt:390}];$t=1;V=0;xt=1;Wt=390;wt=!1}class DMW_Onyx extends DMWeapon{ne="o";Ue="!onyx";name="Onyx Bolt 🥢";St="shoots at";Rt="with an";description=`Onyx Bolt 🥢 has ${c.green("50%")} chance to heal ${c.green("50%")} of damage dealt, can also be used if you are frozen!`;_t=[{Ht:1,Lt:20,Dt:1,bt:125},{Ht:21,Lt:61,Dt:126,bt:275},{Ht:62,Lt:100,Dt:276,bt:375}];$t=1;V=0;xt=1;Wt=375;lt=5;ut=.5;wt=!0}class DMW_Ice extends DMWeapon{ne="i";Ue="!ice";name="Ice Barrage ❄️";St="casts at";Rt="an";description=`Ice Barrage ❄️ freezing the opponent with ${c.green("100%")} chance, freezing ability can only be used ${c.green(1)} time, freeze lasts one ${c.green(1)} turn, can also be used if you are frozen!`;_t=[{Ht:1,Lt:20,Dt:1,bt:100},{Ht:21,Lt:81,Dt:101,bt:250},{Ht:82,Lt:100,Dt:251,bt:330}];$t=1;V=0;xt=1;Wt=330;wt=!0;freeze=!0}class DMW_DH extends DMWeapon{ne="c";Ue="!dh";name="Dharok's Greataxe 🪓";St="swings at";Rt="with a";description="Dharok's Greataxe 🪓 the lower your hp you have the harder you can hit, cannot be used if you are frozen!";_t=[{Ht:1,Lt:99,Dt:200,bt:910},{Ht:100,Lt:199,Dt:175,bt:550},{Ht:200,Lt:499,Dt:100,bt:450},{Ht:500,Lt:1500,Dt:1,bt:350}];$t=1;V=0;xt=1;Wt=910;wt=!1}class DMW_Punch extends DMWeapon{ne="q";Ue="!punch";name="Punch 👊";St="swings at";Rt="with a";description="Punch 👊 cannot be used if you are frozen!";_t=[{Ht:1,Lt:20,Dt:1,bt:90},{Ht:21,Lt:70,Dt:91,bt:185},{Ht:71,Lt:100,Dt:186,bt:295}];$t=1;V=0;xt=1;Wt=295;wt=!1}class DMW_Storm extends DMWeapon{ne="t";Ue="!storm";name="Storm of Armadyl 🌪";St="casts at";Rt="a";description="Storm of Armadyl 🌪 can also be used if you are frozen!";_t=[{Ht:1,Lt:40,Dt:100,bt:190},{Ht:41,Lt:60,Dt:191,bt:290},{Ht:61,Lt:100,Dt:291,bt:340}];$t=1;V=0;xt=100;Wt=340;wt=!0}class DMW_DBolt extends DMWeapon{ne="e";Ue="!dbolt";name="Dragon Bolt (e) 🦯";St="shoots at";Rt="with a";description="Dragon Bolt (e) 🦯 can also be used if you are frozen!";_t=[{Ht:1,Lt:12,Dt:1,bt:175},{Ht:13,Lt:80,Dt:176,bt:374},{Ht:81,Lt:100,Dt:375,bt:600}];$t=1;V=0;xt=1;Wt=600;wt=!0}class DMW_Poly extends DMWeapon{ne="p";enabled=!1;Ue="!poly";name="Polypore Strike 🔱";St="lunges at";Rt="with a";description="Polypore Strike 🔱 can only be played by itself, cannot be used if you are frozen!";_t=[{Ht:1,Lt:40,Dt:1,bt:450},{Ht:41,Lt:100,Dt:451,bt:750}];$t=1;V=0;xt=1;Wt=750;wt=!1}class DMW_DDS extends DMWeapon{ne="d";Ue="!dds";name="Dragon Dagger 🗡";St="stabs";Rt="with a";description="Dragon Dagger 🗡 cannot be used if you are frozen!";_t=[{Ht:1,Lt:20,Dt:1,bt:100},{Ht:21,Lt:71,Dt:101,bt:175},{Ht:72,Lt:100,Dt:176,bt:230}];$t=2;V=25;xt=1;Wt=230;wt=!1}class DMW_Maul extends DMWeapon{ne="m";Ue="!maul";name="Granite Maul 🔨";St="swings at";Rt="with a";description="Granite Maul 🔨 cannot be used if you are frozen!";_t=[{Ht:1,Lt:13,Dt:250,bt:375},{Ht:14,Lt:74,Dt:376,bt:600},{Ht:75,Lt:100,Dt:601,bt:790}];$t=1;V=100;xt=250;Wt=790;wt=!1}class DMW_ZGS extends DMWeapon{ne="z";Ue="!zgs";name="Zamorak's Godsword 🔪";St="swings at";Rt="with a";description="Zamorak's Godsword 🔪 freezing the opponent until the next round, cannot be used if you are frozen!";_t=[{Ht:1,Lt:40,Dt:1,bt:220},{Ht:41,Lt:80,Dt:221,bt:340},{Ht:81,Lt:100,Dt:341,bt:460}];$t=1;V=50;xt=1;Wt=460;wt=!1;freeze=!0}class DMW_Korasi extends DMWeapon{ne="k";Ue="!korasi";name="Korasi Spec 〽️";St="swings at";Rt="with a";description="Korasi Spec 〽️ cannot be used if you are frozen!";_t=[{Ht:1,Lt:10,Dt:1,bt:350},{Ht:11,Lt:71,Dt:351,bt:650},{Ht:72,Lt:100,Dt:651,bt:710}];$t=1;V=75;xt=1;Wt=710;wt=!1}class DMW_DBow extends DMWeapon{ne="D";Ue="!dbow";name="Dark Bow 🏹";St="shoots";Rt="with a";description="Dark Bow 🏹 can be used if you are frozen!";_t=[{Ht:1,Lt:15,Dt:100,bt:220},{Ht:16,Lt:70,Dt:221,bt:300},{Ht:71,Lt:100,Dt:301,bt:350}];$t=2;V=75;xt=100;Wt=350;wt=!0}class DMW_DClaws extends DMWeapon{ne="f";Ue="!dclaws";name="Dragon Claws 💢";St="slashes";Rt="with";description="Dragon Claws 💢 cannot be used if you are frozen!";_t=[{Ht:1,Lt:20,Dt:1,bt:50},{Ht:21,Lt:100,Dt:51,bt:140}];$t=4;V=50;xt=1;Wt=140;wt=!1}class DMW_SGS extends DMWeapon{ne="s";Ue="!sgs";name="Saradomin Godsword ⚒";St="slashes";Rt="with a";description=`Saradomin Godsword ⚒ healing ${c.green("50%")} of damage dealt, cannot be used if you are frozen!`;_t=[{Ht:1,Lt:15,Dt:50,bt:200},{Ht:16,Lt:70,Dt:201,bt:350},{Ht:71,Lt:100,Dt:351,bt:450}];$t=1;V=50;xt=50;Wt=450;lt=10;ut=.5;wt=!1}class DMW_AGS extends DMWeapon{ne="a";Ue="!ags";name="Armadyl Godsword ⚔️";St="shoots";Rt="with a";description="Armadyl Godsword ⚔️ cannot be used if you are frozen.";_t=[{Ht:1,Lt:20,Dt:150,bt:200},{Ht:21,Lt:61,Dt:201,bt:400},{Ht:62,Lt:100,Dt:401,bt:510}];$t=1;V=50;xt=150;Wt=510;wt=!1}class DMW_Blood extends DMWeapon{ne="b";Ue="!blood";name="Blood Barrage 🩸";St="casts at";Rt="a";description=`Blood Barrage 🩸 has ${c.green("100%")} chance to heal ${c.green("40%")} of damage dealt, can also be used if you are frozen!`;_t=[{Ht:1,Lt:20,Dt:1,bt:100},{Ht:21,Lt:81,Dt:101,bt:280},{Ht:82,Lt:100,Dt:281,bt:330}];$t=1;V=0;xt=1;Wt=330;lt=10;ut=.4;wt=!0}class DMW_Guth extends DMWeapon{ne="g";Ue="!guth";name="Guthan's Warspear ⛏";St="stabs";Rt="with a";description=`Guthan's Warspear ⛏ has ${c.green("4/10")} chance to heal ${c.green("100%")} of damage dealt, cannot be used if you are frozen!`;_t=[{Ht:1,Lt:20,Dt:1,bt:149},{Ht:21,Lt:81,Dt:150,bt:275},{Ht:82,Lt:100,Dt:276,bt:320}];$t=1;V=0;xt=1;Wt=320;lt=4;ut=1;wt=!1}class DMW_Smoke extends DMWeapon{ne="u";Ue="!smoke";name="Smoke Barrage 💨";St="casts at";Rt="a";description=`Smoke Barrage 💨 has ${c.green("70%")} chance to start poison the opponent for ${c.green(6)} rounds, cannot poison opponent again if already poisoned, can also be used if you are frozen.`;_t=[{Ht:1,Lt:20,Dt:1,bt:200},{Ht:21,Lt:70,Dt:201,bt:300},{Ht:71,Lt:100,Dt:301,bt:350}];$t=1;V=0;xt=1;Wt=350;wt=!0}class DMW_MSB extends DMWeapon{ne="l";Ue="!msb";name="Magic Shortbow 🍃";St="shoots";Rt="with a";description="Magic Shortbow 🍃 can be used if you are frozen!";_t=[{Ht:1,Lt:20,Dt:75,bt:150},{Ht:21,Lt:81,Dt:151,bt:230},{Ht:82,Lt:100,Dt:231,bt:300}];$t=2;V=50;xt=75;Wt=300;wt=!0}class DMW_Etc extends DMWeapon{ne="E";Ue="!etc";name="Etc 🍃";St="etc";Rt="etc";description="etc";_t=[{Ht:1,Lt:20,Dt:1,bt:2},{Ht:21,Lt:81,Dt:3,bt:4},{Ht:82,Lt:100,Dt:5,bt:6}];$t=1;V=0;xt=1;Wt=6;wt=!0}