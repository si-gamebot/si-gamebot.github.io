import PFRNG from"../pfrng.js";const Util={t(e,t){const s=10**t;return Math.round(e*s)/s},i(e,t){const s=10**t;return Math.floor(e*s)/s},o:e=>/^!\w+/.test(e),h(e){let t=e.split(" ");return{name:t.shift().toLowerCase(),l:t}},g(e,t){const s=e.indexOf(t);-1!==s&&e.splice(s,1)},m(e,t){const s=this.u(e,t);-1!==s&&e.splice(s,1)},p(e,t){const s=t.toLowerCase();for(const t of e)if(s===t.toLowerCase())return!0;return!1},M:(e,t)=>e.toLowerCase()===t.toLowerCase(),u(e,t){const s=t.toLowerCase();for(let t=0;t<e.length;t++)if(e[t].toLowerCase()===s)return t;return-1},_(e,t){console.log("arr_str_value_i:"),console.log(e),console.log(t);return e[this.u(e,t)]},H:(e,t)=>e+Math.floor((t-e)*Math.random()+1),L(e){if("string"!=typeof e)throw new Error("Expected string, got "+typeof e);if(e.length>16)return null;e=e.toUpperCase();return/^\d+(\.\d+)?[KMBT]?$/.test(e)?(/[KMBT]$/.test(e)&&(e=(e=(e=(e=e.replace("K","e+3")).replace("M","e+6")).replace("B","e+9")).replace("T","e+12")),parseFloat(e)):null},D(e){if("number"!=typeof e)throw new Error("Expected number, got "+typeof e);if(e<1e3)return String(e);const t=e.toExponential(),[s,i]=t.split("e").map(Number);if(void 0===s||void 0===i)throw"compiler ritual etc";let o,n;i<15?(o=Math.floor(i/3),n=i%3):(o=4,n=i-12),console.log(o);return`${this.i(s*Math.pow(10,n),2)}${["","K","M","B","T"][o]}`},$(e){function t(){return e+" is not a number with a unit. Expected e.g. 1.23K"}if(/^\d*\.?\d*[A-z]$/.test(e)){const s=e.substring(0,e.length-1),i=Number(s);if(Number.isNaN(i))throw t();return[i,e[e.length-1]]}throw t()}};class Game{channel;constructor(e){this.channel=e}W(e){return"function"==typeof this[e]}say(e,t){"boolean"==typeof t&&!0===t?this.channel.say(e):this.channel.say(this.S+e)}sayTo(e,t,s){this.say(`${e}: ${t}`,s)}notice(e,t){"boolean"==typeof t&&!0===t?this.channel.notice(e):this.channel.notice(this.S+e)}noticeTo(e,t,s){"boolean"==typeof s&&!0===s?this.channel.noticeTo(e,t):this.channel.noticeTo(e,this.S+t)}}class MIGame extends Game{static R;static k;C;constructor(e,t){super(e),this.C=t}G(){console.log("MIGame.cleanup() called"),this.channel.endMIGame(this.C,this.R)}static factory(e,t,s,i){throw"Your game must override this method!"}static T(e){throw"Your game must override this method!"}static v(e,t,s){s.P[e]=t,s.F[e]=this.R}static N(e,t,s){s.B[e]=t,s.F[e]=this.R}}const echo=e=>e,c={red:echo,green:echo,A:echo,bold:echo,I:echo};c.bold.U={O:echo,K:echo};class DMPlayer{Y;j=null;q=!1;Z=1500;J=1500;V=100;X=0;ee=0;te=!1;se(e){if(this.J==this.Z)return 0;const t=this.J;this.J+=e,this.J>this.Z&&(this.J=this.Z);return this.J-t}constructor(e){this.Y=e}}export default class DeathMatch extends MIGame{R="dm";static R="dm";static k="!dm";name="Death Match";S=c.bold("[ 🔪 Death Match 🧝 ] ");session;constructor(e,t){super(e,t),this.session=null}ie(){if(null==this.session)throw"You are doing it wrong";this.session.weapons={"!surge":new DMW_Surge(this),"!whip":new DMW_Whip(this),"!onyx":new DMW_Onyx(this),"!ice":new DMW_Ice(this),"!dh":new DMW_DH(this),"!punch":new DMW_Punch(this),"!storm":new DMW_Storm(this),"!dbolt":new DMW_DBolt(this),"!poly":new DMW_Poly(this),"!dds":new DMW_DDS(this),"!maul":new DMW_Maul(this),"!zgs":new DMW_ZGS(this),"!korasi":new DMW_Korasi(this),"!dbow":new DMW_DBow(this),"!dclaws":new DMW_DClaws(this),"!sgs":new DMW_SGS(this),"!ags":new DMW_AGS(this),"!blood":new DMW_Blood(this),"!guth":new DMW_Guth(this),"!smoke":new DMW_Smoke(this),"!msb":new DMW_MSB(this)};for(const e of Object.keys(this.session.weapons)){const t=this.session.weapons[e];this.session.oe[t.ne]=t}}replayWeapon(e){if(null==this.session)throw"Session is null";const t=this.session.oe[e];if(!(t instanceof DMWeapon))throw"weapon is not weapon :(";const s=t,i=this.session.re==this.session.ae?this.session.he:this.session.ae;s.de(this.session.re,i)}replaySetSeeds(e,t){if(null==this.session)throw"session null";this.session.ae.j=e,this.session.he.j=t,this.session.status="PLAYING",this.ce()}ce(){if(null==this.session)throw"session null";this.session.re=this.le(),this.say("Ready to begin the game!"),this.say(`${this.session.re.Y} gets the first hit!`),this.session.status="PLAYING"}ge(e,t){this.me(e,"!surge")}ue(e,t){this.me(e,"!whip")}pe(e,t){this.me(e,"!onyx")}fe(e,t){this.me(e,"!ice")}we(e,t){this.me(e,"!dh")}Me(e,t){this.me(e,"!punch")}ye(e,t){this.me(e,"!storm")}_e(e,t){this.me(e,"!dbolt")}He(e,t){this.me(e,"!poly")}Le(e,t){this.me(e,"!dds")}be(e,t){this.me(e,"!maul")}De(e,t){this.me(e,"!zgs")}$e(e,t){this.me(e,"!korasi")}xe(e,t){this.me(e,"!dbow")}We(e,t){this.me(e,"!dclaws")}Se(e,t){this.me(e,"!sgs")}Ee(e,t){this.me(e,"!ags")}Re(e,t){this.me(e,"!blood")}ze(e,t){this.me(e,"!guth")}ke(e,t){this.me(e,"!smoke")}Ce(e,t){this.me(e,"!msb")}static T(e){this.v("!dmstop","cmd_stop",e),this.N("!cancel","cmd_cancel",e),this.N("!spec","cmd_spec",e),this.N("!weapons","cmd_weapons",e),this.N("!weapon","cmd_weapon",e),this.N("!dmseed","cmd_dmseed",e),this.N("!surge","cmd_surge",e),this.N("!whip","cmd_whip",e),this.N("!onyx","cmd_onyx",e),this.N("!ice","cmd_ice",e),this.N("!dh","cmd_dh",e),this.N("!punch","cmd_punch",e),this.N("!storm","cmd_storm",e),this.N("!dbolt","cmd_dbolt",e),this.N("!poly","cmd_poly",e),this.N("!dds","cmd_dds",e),this.N("!maul","cmd_maul",e),this.N("!zgs","cmd_zgs",e),this.N("!korasi","cmd_korasi",e),this.N("!dbow","cmd_dbow",e),this.N("!dclaws","cmd_dclaws",e),this.N("!sgs","cmd_sgs",e),this.N("!ags","cmd_ags",e),this.N("!blood","cmd_blood",e),this.N("!guth","cmd_guth",e),this.N("!smoke","cmd_smoke",e),this.N("!msb","cmd_msb",e)}me(e,t){if(null==this.session)throw"You're doing it wrong";const s=this.session.ae,i=this.session.he,o=e=>this.say(`Game hasn't started yet. ${e}, please choose a random seed with !dmseed <seed>`);if("GET_CLIENT_SEEDS"==this.session.status){const e=null==s.j,t=null==this.session.he.j;if(e&&t)return o("Both players");if(e)return o(s.Y);if(t)return o(i.Y);throw this.say("Error: Unexpected condition. Session status is GET_CLIENT_SEEDS but all seeds have been set."),"Expected unset seeds but all seeds set"}if(e===s.Y)var n=s,r=i;else{if(e!==i.Y)throw this.say("Error: Unexpected condition. Received message from unknown player."),"ERROR: Got a message from someone ("+e+") that should not be able to message this game.";n=i,r=s}if(n!==this.session.re)return void this.sayTo(e,"Sorry, it's not your turn yet.");console.log("weapon cmd: "+t);const a=this.session.weapons[t];if(console.log("weapon lookup result: "+a),!(a instanceof DMWeapon))throw"Expected weapon, got "+a;const h=a;if(!h.enabled)return this.noticeTo(e,`Sorry, ${h.name} is not allowed in this match. Allowed weapons: ${this.Ge()}`);const d=h.Te(n);if(!0===d)return this.ve(n,r,h);{const t=d;this.noticeTo(e,t)}}ve(e,t,s){s.de(e,t)}Pe(e,t){return this.sayTo(e,"Sorry, !cancel isn't working yet.")}Fe(e,t){if(null==this.session)return this.sayTo(e,"ERROR: !spec called but DM session == null.");const s=this.session.ae,i=this.session.he;if(e===s.Y)var o=s;else{if(e!==i.Y)throw this.say("Error: Unexpected condition. Received message from unexpected nick: "+e),"ERROR: Got a message from someone ("+e+") that should not be able to message this game.";o=i}this.noticeTo(e,`You have ${c.green(o.V+"%")} special attack left for this game.`)}Ne(e,t){if(null==this.session)return this.sayTo(e,"ERROR: !weapons called but DM session == null.");this.Be(e)}Ge(){let e="";for(const t of Object.keys(this.session.weapons)){const s=this.session.weapons[t];s.enabled&&(e+=s.Ae,e+=" ")}return e}Ie(){const e=["Can of Redbull","3 bullets","Water Staff","Maple Shortbow","Red Dragonhide","Dragon Boots"].sort(((e,t)=>.5-Math.random())),t=2+Math.round(3*Math.random());return e.slice(0,t).join(", ")}Be(e){const t=this.Ge();"string"==typeof e?(this.noticeTo(e,"Allowed Weapons for this match: "+t),this.noticeTo(e,"Use !weapon <cmd> to find out more. Example: !weapon whip")):(this.say("Allowed Weapons for this match: "+t),this.say("Use !weapon <cmd> to find out more. Example: !weapon whip"))}Ue(e,t){if(null==this.session)return this.sayTo(e,"ERROR: !weapon called but DM session == null.");if(1!==t.length)return this.noticeTo(e,"Please type a weapon command name, e.g. !weapon onyx");let s=t[0].toLowerCase();return"!"!==s.charAt(0)&&(s="!"+s),s in this.session.weapons?this.session.weapons[s].Oe(e):this.noticeTo(e,"Sorry, I can't find this weapon.")}Ke(e,t){if(console.log(e,"cmd_dmseed",t),null==this.session)return this.sayTo(e,"ERROR: !dmseed called but DM session == null.");if("GET_CLIENT_SEEDS"!==this.session.status)return this.sayTo(e,"Seeds already set.");if(0==t.length)return this.sayTo(e,"Please type something random after !dmseed. Example: !dmseed ocean");let s="";return e===this.session.ae.Y?null==this.session.ae.j?(this.session.ae.j=t[0],s+="Thank you. "):s+=this.session.ae.Y+': Your seed was already set to "'+this.session.ae.j+'". ':e===this.session.he.Y&&(null==this.session.he.j?(this.session.he.j=t[0],s+="Thank you. "):s+=this.session.he.Y+': Your seed was already set to "'+this.session.he.j+'". '),null==this.session.ae.j?this.say(`${s}Now ${this.session.ae.Y}, please choose your seed.`):null==this.session.he.j?this.say(`${s}Now ${this.session.he.Y}, please choose your seed.`):void this.ce()}Ye(){if(null==this.session)throw this.say("nextTurn() called but session is null"),"nextTurn() called but session == null";if("GET_CLIENT_SEEDS"==this.session.status)throw this.say("nextTurn() called but status is GET_CLIENT_SEEDS"),"nextTurn() called but session == null";this.je(),this.session.turn++}je(){if(null==this.session)throw this.say("toggleActivePlayer() called but session is null"),"newRotoggleActivePlayerund() called but session == null";if(null==this.session.re)throw this.say("toggleActivePlayer() called but session.activePlayer is null"),"toggleActivePlayer() called but session.activePlayer == null";if("GET_CLIENT_SEEDS"==this.session.status)throw this.say("toggleActivePlayer() called but status is GET_CLIENT_SEEDS"),"toggleActivePlayer() called but session == null";if(this.session.re==this.session.ae)this.session.re=this.session.he;else{if(this.session.re!=this.session.he)throw this.say("Critical error in toggleActivePlayer"),"activePlayer is neither player1 nor player2";this.session.re=this.session.ae}}static factory(e,t,s,i){const o=new DeathMatch(e,t);if(null!==o.session)return o.say("ERROR: A game is already in progress."),null;if(i.length<4)return o.sayTo(s,"Command format: !dm <user1> <user2> <amount> <currency> - Example: !dm john steve 50m 07"),null;const[n,r,a,h]=i,d=o.channel.findNick(n);if(null===d)return o.say(`${s}: Error: Can't find user ${n} in this channel.`),null;const c=o.channel.findNick(r);if(null===c)return o.say(`${s}: Error: Can't find user ${r} in this channel.`),null;const l=new DMPlayer(d),g=new DMPlayer(c);if(l.Y===g.Y)return console.warn("Nicks equal!"),o.sayTo(s,"Error: Both players' nicknames are identical!"),null;const m=Util.L(a);if(null==m)return o.say("Error: Sorry, I don't understand that bet amount. Examples: 500, 1K, 2M, 50B, etc."),null;if(o.session={ae:l,he:g,qe:m,Ze:h,status:"GET_CLIENT_SEEDS",turn:0,re:null,RNG:new PFRNG(null),weapons:{},Je:"",oe:{}},o.ie(),i.length>4){let e=0,t=0;const n=[],r=i.slice(4);for(const i of r){const r=i[0],a="!"+i.slice(1),h=o.session.weapons[a];if(!(h instanceof DMWeapon))return o.sayTo(s,"Error: Unknown weapon: "+i),null;if("+"===r)e++,h.enabled=!0,n.push(h);else{if("-"!==r)return o.sayTo(s,"Error: Unknown command: "+a),null;t++,h.enabled=!1}}if(e>0&&t>0)return o.sayTo(s,"Error: Can't use both + and -"),null;if(n.length>0)for(const e of Object.keys(o.session.weapons)){const t=o.session.weapons[e];n.includes(t)||(t.enabled=!1)}}return o.session.turn=1,o.say(`${l.Y} vs ${g.Y} - 2 Users bet ${Util.D(m)} each on ${h} - Server Seed (Hashed): ${o.session.RNG.Qe}`),o.Be(),o.say("For fair randomness, both players please type !dmseed <seed>, where <seed> is a random number or word."),o}le(){if(null===this.session)throw"RNG_getStartingPlayer() called before game start";if(null===this.session.RNG)throw"RNG_getStartingPlayer() called before RNG init";const e=this.session.ae.j,t=this.session.he.j;if(null==e)throw"clientSeed1 is null!";if(null==t)throw"clientSeed2 is null!";const s=`${e}:${t}`,i=this.session.RNG.getHMAC(s,this.session.RNG.serverSeed),o=this.session.RNG.hashToInt(i,0,1);return[this.session.ae,this.session.he][o]}Ve(e,t){if(null===this.session)throw"get1to100() called before game start";if(null===this.session.RNG)throw"get1to100() called before RNG init";const s=this.session.turn,i=`${t}:${e.Y}:${s}:${e.j}`,o=this.session.RNG.getHMAC(i,this.session.RNG.serverSeed);return this.session.RNG.hashToInt(o,1,10)}Xe(e){if(null===this.session)throw"get1to100() called before game start";if(null===this.session.RNG)throw"get1to100() called before RNG init";const t=this.session.turn,s=`chance:${e.Y}:${t}:${e.j}`,i=this.session.RNG.getHMAC(s,this.session.RNG.serverSeed);return this.session.RNG.hashToInt(i,1,100)}et(e,t,s){if(null===this.session)throw"get1to100() called before game start";if(null===this.session.RNG)throw"get1to100() called before RNG init";const i=this.session.turn,o=`dmg:${e.Y}:${i}:${e.j}`,n=this.session.RNG.getHMAC(o,this.session.RNG.serverSeed);return this.session.RNG.hashToInt(n,t,s)}tt(e,t){if(null===this.session)throw"Error: winGame() called but session is null.";this.say(`${t.Y} Has died! Also dropped 🎗 [${this.Ie()}]`);const s=Util.D(this.session.qe),i=Util.D(2*this.session.qe);this.say(`${e.Y} ${c.red("WINS")} the ${c.green(i)} 💰 pot on ${c.A(this.session.Ze)} ❗️`);const o="https://si-gamebot.github.io/verify/dm/?"+function(e){let t="";for(let s of Object.keys(e))t+=`&${s}=${e[s]}`;return t.substring(1)}({st:this.session.RNG.serverSeed,it:this.session.ae.Y,ot:this.session.he.Y,nt:this.session.Ze,rt:s,ht:this.session.ae.j,dt:this.session.he.j,Je:this.session.Je});this.say("Provably fair: "+o),this.G()}}class DMWeapon{ct;enabled=!0;freeze=!1;lt=0;gt=0;Te(e){const t=this.ut(e);if(!0!==t)return t;const s=this.ft(e);return!0===s||s}ut(e){return!!this.wt||(!e.q||"You cannot use a melee weapon while you are frozen!")}ft(e){const t=`You do NOT have enough special attack left! (${c.green(e.V)} left, ${c.green(this.V)} needed)`;return!(e.V<this.V)||t}Mt(){let e="!dh"==this.Ae?"HP":"CHANCE",t="";for(const s of this.yt){const i=`${s._t}-${s.Ht} `+e,o=`${s.Lt}-${s.bt} DMG`;t+=`${c.red(i)} = ${c.green(o)}`,t+=" || "}return t.substring(0,t.length-4)}Oe(e){this.ct.noticeTo(e,`Description: ${this.description}`),this.ct.noticeTo(e,`Hit Rates: ${this.Mt()}`),this.ct.noticeTo(e,`Hit Times: ${c.green(this.Dt)}`),this.ct.noticeTo(e,`Required Spec: ${c.green(this.V)}`),this.ct.noticeTo(e,`Minimum Damage: ${c.green(this.$t)}`),this.ct.noticeTo(e,`Maximum Damage: ${c.green(this.xt)}`)}de(e,t){if(null==this.ct.session)throw"wtf";this.ct.session.Je+=this.ne;const s=e=>{const t=" ",s=15;const i=e.J,o=e.Z;if(i<0||i>o)throw this.ct.say("Critical error: Unexpected health value: "+i),"Unexpected health value: "+i;const n=Math.round(i/o*s),r=function(e){let i=String(e);for(;i.length<s;)i=t+i+t;return i.length>s&&(i=i.substring(1,i.length)),i}(i);let a="";for(let e=0;e<s;e++)a+=e<n?c.bold.U.O(r[e]):c.bold.U.K(r[e]);return a};if("!ice"===this.Ae){if(e.te)return this.ct.noticeTo(e.Y,"You have already used Ice! (Ice can be used once per game.)");e.te=!0}let i=!1;if("!smoke"==this.Ae&&0==t.X&&this.ct.Ve(e,"poison")<=7&&(t.X=6,t.ee=40,i=!0),t.X>0){t.J-=t.ee,t.J<0&&(t.J=0);const s=i?"Start":"Still";if(this.ct.say(`${t.Y} ${s} suffers ${c.red(t.ee)} ☠ damage from poison!`),0==t.J)return this.ct.tt(e,t);t.ee-=2,t.X--}let o=0,n=[];for(let t=1;t<=this.Dt;t++){let t=null;if("!dh"==this.Ae)for(const s of this.yt)e.J>=s._t&&e.J<=s.Ht&&(t=s);else{const s=this.ct.Xe(e);for(const e of this.yt)s>=e._t&&s<=e.Ht&&(t=e)}if(null==t)throw this.ct.say("Critical Error: Could not find hit rate."),"Could not find hit rate";const s=this.ct.et(e,t.Lt,t.bt);o+=s,n.push(s)}let r="";if(this.lt>0&&(10==this.lt||this.ct.Ve(e,"heal")<=this.lt)){const t=Math.round(o*this.gt),s=e.se(t);r+=`, healing ${c.A(s)}`}if(e.V-=this.V,e.V<0)throw this.ct.say("Critical Error: Player spec is below zero!"),"player Spec < 0 !";t.J-=o,t.J<0&&(t.J=0);let a="";this.freeze&&(t.q=!0,a=c.I("freezing them, ")),e.q=!1,this.ct.Ye();let h=null;h=1==this.Dt?String(o):`${n.join(" + ")} (${o})`;const d=this.ct.session.ae,l=this.ct.session.he,g=`${e.Y} ${this.Wt} ${t.Y} ${this.St} ${this.name} ${a}dealing ${c.red(h)} damage${r}.`,m=`${d.Y}: ${s(d)} - ${l.Y}: ${s(l)}`;if(this.ct.say(g),this.ct.say(m),0==t.J)return this.ct.tt(e,t);{const e=`${t.Y} gets the next hit!`;this.ct.say(e)}}constructor(e){this.ct=e}}class DMW_Surge extends DMWeapon{ne="r";Ae="!surge";name="Surge of Fire 🔥";Wt="casts at";St="a";description=`Surge of Fire 🔥 can only be used if your hp is ${c.green(250)} or less, can also be used if you are frozen!`;yt=[{_t:1,Ht:40,Lt:200,bt:350},{_t:41,Ht:65,Lt:351,bt:440},{_t:66,Ht:100,Lt:441,bt:550}];Dt=1;V=0;$t=200;xt=500;wt=!0;Te(e){return e.J>250?`Surge of Fire 🔥 can only be used when your HP is ${c.green(250)} or lower!`:super.Te(e)}}class DMW_Whip extends DMWeapon{ne="w";Ae="!whip";name="Abyssal Whip 📿";Wt="whips";St="with an";description="Abyssal Whip 📿 cannot be used if you are frozen!";yt=[{_t:1,Ht:30,Lt:1,bt:145},{_t:31,Ht:60,Lt:146,bt:265},{_t:61,Ht:100,Lt:266,bt:390}];Dt=1;V=0;$t=1;xt=390;wt=!1}class DMW_Onyx extends DMWeapon{ne="o";Ae="!onyx";name="Onyx Bolt 🥢";Wt="shoots at";St="with an";description=`Onyx Bolt 🥢 has ${c.green("50%")} chance to heal ${c.green("50%")} of damage dealt, can also be used if you are frozen!`;yt=[{_t:1,Ht:20,Lt:1,bt:125},{_t:21,Ht:61,Lt:126,bt:275},{_t:62,Ht:100,Lt:276,bt:375}];Dt=1;V=0;$t=1;xt=375;lt=5;gt=.5;wt=!0}class DMW_Ice extends DMWeapon{ne="i";Ae="!ice";name="Ice Barrage ❄️";Wt="casts at";St="an";description=`Ice Barrage ❄️ freezing the opponent with ${c.green("100%")} chance, freezing ability can only be used ${c.green(1)} time, freeze lasts one ${c.green(1)} turn, can also be used if you are frozen!`;yt=[{_t:1,Ht:20,Lt:1,bt:100},{_t:21,Ht:81,Lt:101,bt:250},{_t:82,Ht:100,Lt:251,bt:330}];Dt=1;V=0;$t=1;xt=330;wt=!0;freeze=!0}class DMW_DH extends DMWeapon{ne="c";Ae="!dh";name="Dharok's Greataxe 🪓";Wt="swings at";St="with a";description="Dharok's Greataxe 🪓 the lower your hp you have the harder you can hit, cannot be used if you are frozen!";yt=[{_t:1,Ht:99,Lt:200,bt:910},{_t:100,Ht:199,Lt:175,bt:550},{_t:200,Ht:499,Lt:100,bt:450},{_t:500,Ht:1500,Lt:1,bt:350}];Dt=1;V=0;$t=1;xt=910;wt=!1}class DMW_Punch extends DMWeapon{ne="q";Ae="!punch";name="Punch 👊";Wt="swings at";St="with a";description="Punch 👊 cannot be used if you are frozen!";yt=[{_t:1,Ht:20,Lt:1,bt:90},{_t:21,Ht:70,Lt:91,bt:185},{_t:71,Ht:100,Lt:186,bt:295}];Dt=1;V=0;$t=1;xt=295;wt=!1}class DMW_Storm extends DMWeapon{ne="t";Ae="!storm";name="Storm of Armadyl 🌪";Wt="casts at";St="a";description="Storm of Armadyl 🌪 can also be used if you are frozen!";yt=[{_t:1,Ht:40,Lt:100,bt:190},{_t:41,Ht:60,Lt:191,bt:290},{_t:61,Ht:100,Lt:291,bt:340}];Dt=1;V=0;$t=100;xt=340;wt=!0}class DMW_DBolt extends DMWeapon{ne="e";Ae="!dbolt";name="Dragon Bolt (e) 🦯";Wt="shoots at";St="with a";description="Dragon Bolt (e) 🦯 can also be used if you are frozen!";yt=[{_t:1,Ht:12,Lt:1,bt:175},{_t:13,Ht:80,Lt:176,bt:374},{_t:81,Ht:100,Lt:375,bt:600}];Dt=1;V=0;$t=1;xt=600;wt=!0}class DMW_Poly extends DMWeapon{ne="p";enabled=!1;Ae="!poly";name="Polypore Strike 🔱";Wt="lunges at";St="with a";description="Polypore Strike 🔱 can only be played by itself, cannot be used if you are frozen!";yt=[{_t:1,Ht:40,Lt:1,bt:450},{_t:41,Ht:100,Lt:451,bt:750}];Dt=1;V=0;$t=1;xt=750;wt=!1}class DMW_DDS extends DMWeapon{ne="d";Ae="!dds";name="Dragon Dagger 🗡";Wt="stabs";St="with a";description="Dragon Dagger 🗡 cannot be used if you are frozen!";yt=[{_t:1,Ht:20,Lt:1,bt:100},{_t:21,Ht:71,Lt:101,bt:175},{_t:72,Ht:100,Lt:176,bt:230}];Dt=2;V=25;$t=1;xt=230;wt=!1}class DMW_Maul extends DMWeapon{ne="m";Ae="!maul";name="Granite Maul 🔨";Wt="swings at";St="with a";description="Granite Maul 🔨 cannot be used if you are frozen!";yt=[{_t:1,Ht:13,Lt:250,bt:375},{_t:14,Ht:74,Lt:376,bt:600},{_t:75,Ht:100,Lt:601,bt:790}];Dt=1;V=100;$t=250;xt=790;wt=!1}class DMW_ZGS extends DMWeapon{ne="z";Ae="!zgs";name="Zamorak's Godsword 🔪";Wt="swings at";St="with a";description="Zamorak's Godsword 🔪 freezing the opponent until the next round, cannot be used if you are frozen!";yt=[{_t:1,Ht:40,Lt:1,bt:220},{_t:41,Ht:80,Lt:221,bt:340},{_t:81,Ht:100,Lt:341,bt:460}];Dt=1;V=50;$t=1;xt=460;wt=!1;freeze=!0}class DMW_Korasi extends DMWeapon{ne="k";Ae="!korasi";name="Korasi Spec 〽️";Wt="swings at";St="with a";description="Korasi Spec 〽️ cannot be used if you are frozen!";yt=[{_t:1,Ht:10,Lt:1,bt:350},{_t:11,Ht:71,Lt:351,bt:650},{_t:72,Ht:100,Lt:651,bt:710}];Dt=1;V=75;$t=1;xt=710;wt=!1}class DMW_DBow extends DMWeapon{ne="D";Ae="!dbow";name="Dark Bow 🏹";Wt="shoots";St="with a";description="Dark Bow 🏹 can be used if you are frozen!";yt=[{_t:1,Ht:15,Lt:100,bt:220},{_t:16,Ht:70,Lt:221,bt:300},{_t:71,Ht:100,Lt:301,bt:350}];Dt=2;V=75;$t=100;xt=350;wt=!0}class DMW_DClaws extends DMWeapon{ne="f";Ae="!dclaws";name="Dragon Claws 💢";Wt="slashes";St="with";description="Dragon Claws 💢 cannot be used if you are frozen!";yt=[{_t:1,Ht:20,Lt:1,bt:50},{_t:21,Ht:100,Lt:51,bt:140}];Dt=4;V=50;$t=1;xt=140;wt=!1}class DMW_SGS extends DMWeapon{ne="s";Ae="!sgs";name="Saradomin Godsword ⚒";Wt="slashes";St="with a";description=`Saradomin Godsword ⚒ healing ${c.green("50%")} of damage dealt, cannot be used if you are frozen!`;yt=[{_t:1,Ht:15,Lt:50,bt:200},{_t:16,Ht:70,Lt:201,bt:350},{_t:71,Ht:100,Lt:351,bt:450}];Dt=1;V=50;$t=50;xt=450;lt=10;gt=.5;wt=!1}class DMW_AGS extends DMWeapon{ne="a";Ae="!ags";name="Armadyl Godsword ⚔️";Wt="shoots";St="with a";description="Armadyl Godsword ⚔️ cannot be used if you are frozen.";yt=[{_t:1,Ht:20,Lt:150,bt:200},{_t:21,Ht:61,Lt:201,bt:400},{_t:62,Ht:100,Lt:401,bt:510}];Dt=1;V=50;$t=150;xt=510;wt=!1}class DMW_Blood extends DMWeapon{ne="b";Ae="!blood";name="Blood Barrage 🩸";Wt="casts at";St="a";description=`Blood Barrage 🩸 has ${c.green("100%")} chance to heal ${c.green("40%")} of damage dealt, can also be used if you are frozen!`;yt=[{_t:1,Ht:20,Lt:1,bt:100},{_t:21,Ht:81,Lt:101,bt:280},{_t:82,Ht:100,Lt:281,bt:330}];Dt=1;V=0;$t=1;xt=330;lt=10;gt=.4;wt=!0}class DMW_Guth extends DMWeapon{ne="g";Ae="!guth";name="Guthan's Warspear ⛏";Wt="stabs";St="with a";description=`Guthan's Warspear ⛏ has ${c.green("4/10")} chance to heal ${c.green("100%")} of damage dealt, cannot be used if you are frozen!`;yt=[{_t:1,Ht:20,Lt:1,bt:149},{_t:21,Ht:81,Lt:150,bt:275},{_t:82,Ht:100,Lt:276,bt:320}];Dt=1;V=0;$t=1;xt=320;lt=4;gt=1;wt=!1}class DMW_Smoke extends DMWeapon{ne="u";Ae="!smoke";name="Smoke Barrage 💨";Wt="casts at";St="a";description=`Smoke Barrage 💨 has ${c.green("70%")} chance to start poison the opponent for ${c.green(6)} rounds, cannot poison opponent again if already poisoned, can also be used if you are frozen.`;yt=[{_t:1,Ht:20,Lt:1,bt:200},{_t:21,Ht:70,Lt:201,bt:300},{_t:71,Ht:100,Lt:301,bt:350}];Dt=1;V=0;$t=1;xt=350;wt=!0}class DMW_MSB extends DMWeapon{ne="l";Ae="!msb";name="Magic Shortbow 🍃";Wt="shoots";St="with a";description="Magic Shortbow 🍃 can be used if you are frozen!";yt=[{_t:1,Ht:20,Lt:75,bt:150},{_t:21,Ht:81,Lt:151,bt:230},{_t:82,Ht:100,Lt:231,bt:300}];Dt=2;V=50;$t=75;xt=300;wt=!0}